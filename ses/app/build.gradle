plugins {
    id 'application'
    id 'com.bmuschko.docker-java-application' version '9.4.0'
}

version = '1.0'

repositories {
    mavenCentral()
}

dependencies {
    // Use JUnit Jupiter for testing.
    testImplementation libs.junit.jupiter

    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'

    // This dependency is used by the application.
    implementation libs.guava
    implementation platform('software.amazon.awssdk:bom:2.21.1')
    implementation 'software.amazon.awssdk:ses'
    implementation 'javax.mail:mail:1.4.7'
}

// Apply a specific Java toolchain to ease working on different environments.
java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(17)
    }
}

application {
    // Define the main class for the application.
    mainClass = 'ses.SendMessageEmailRequest'
}


docker {
    javaApplication {
        maintainer = 'Jon Doe "jon.doe@gmail.com"'
        baseImage = "openjdk:17"
    }

}
